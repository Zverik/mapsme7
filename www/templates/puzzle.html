<table cellspacing="0" cellpadding="0" id="puzzle">
  {% for row in range(puzzle.rows) %}
  <tr>
    {% for col in range(puzzle.columns) %}
    {% set pp = row * puzzle.columns + col %}
    <td>
      {% if pp in puzzle.pieces %}
      <img src="http://osmz.ru/mapsme7/mapsme7-{{ pp }}.jpg">
      {% else %}
      <img src="http://osmz.ru/mapsme7/mapsme7-no.png">
      {% endif %}
    </td>
    {% endfor %}
  </tr>
  {% endfor %}
</table>
